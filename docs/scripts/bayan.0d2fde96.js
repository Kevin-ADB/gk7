"use strict";(self.webpackChunkgk7_web=self.webpackChunkgk7_web||[]).push([[388],{3170:(n,t,r)=>{r.r(t),r.d(t,{BayanPage:()=>M});var e=r(4015),i=r(6540),u=r(4988),o=function(n){var t=n.toLowerCase().match(/\/([a-g])(-?\d+)(\^?)[^/]*$/);if(!t)throw new Error("Invalid note file name: ".concat(n));var r=t,e=r[1],i=r[2],u=r[3];return c[e]+12*(parseInt(i,10)-4)+(u?1:0)},c={a:9,b:11,c:0,d:2,e:4,f:5,g:7},f=function(n,t,r,e){return new(r||(r=Promise))((function(i,u){function o(n){try{f(e.next(n))}catch(n){u(n)}}function c(n){try{f(e.throw(n))}catch(n){u(n)}}function f(n){var t;n.done?i(n.value):(t=n.value,t instanceof r?t:new r((function(n){n(t)}))).then(o,c)}f((e=e.apply(n,t||[])).next())}))},a=function(n,t){var r,e,i,u,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return u={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function c(c){return function(f){return function(c){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,c[0]&&(o=0)),o;)try{if(r=1,e&&(i=2&c[0]?e.return:c[0]?e.throw||((i=e.return)&&i.call(e),0):e.next)&&!(i=i.call(e,c[1])).done)return i;switch(e=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,e=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){o.label=c[1];break}if(6===c[0]&&o.label<i[1]){o.label=i[1],i=c;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(c);break}i[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(n,o)}catch(n){c=[6,n],e=0}finally{r=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,f])}}};function l(n,t){for(var r=window.atob(n.split(",")[1]),e=new Uint8Array(r.length),i=0;i<r.length;i++)e[i]=r.charCodeAt(i);return t.decodeAudioData(e.buffer)}var d=function(n){return function(n,t){return f(void 0,void 0,void 0,(function(){var r,e,i,u,c;return a(this,(function(d){switch(d.label){case 0:return[4,t];case 1:return r=d.sent(),e=Array.isArray(r)?r:[r],[4,Promise.all(e.map((function(t){var r=t.default,e=r.keys();return Promise.all(e.map((function(t){return f(void 0,void 0,void 0,(function(){var e;return a(this,(function(i){switch(i.label){case 0:return e={u:o(t)},[4,l(r(t),n)];case 1:return[2,(e.o=i.sent(),e)]}}))}))})))})))];case 2:return i=d.sent(),u=i.flat(),c=new Map,u.forEach((function(n){return c.set(n.u,n)})),[2,{l:Math.min.apply(Math,u.map((function(n){return n.u}))),v:Math.max.apply(Math,u.map((function(n){return n.u}))),m:function(n){return c.get(n)}}]}}))}))}(n,Promise.all([r.e(674).then(r.bind(r,4440))]))},s=r(2583),v=r(6734),w=function(){var n=(0,i.useMemo)((function(){return new AudioContext}),[]),t=(0,i.useMemo)((function(){return d(n)}),[n]),r=(0,v.y)(t),e=r.t,o=r.h,c=(0,s.D)((function(t){var r=o.m(t),e=n.createBufferSource();e.buffer=r.o,e.connect(n.destination),e.start(0),e.stop(n.currentTime+1)}));return i.createElement("div",null,e&&i.createElement("div",null,"Loading..."),!e&&o&&i.createElement(u.r,{iconProps:{iconName:"Add"},onClick:function(){return c(0)}},"Test"),!e&&!o&&i.createElement("div",null,"Failed to load note set"))},h=r(7813),y=r(5155),b=r(71),m=new b.i({}),k=(0,h.XI)((function(n){m.getModel()[n]=1})),p=(0,h.XI)((function(n){delete m.getModel()[n]})),g=(0,h.XI)((function(){var n=m.getModel();(0,y.x)(n).forEach((function(t){return delete n[t]}))}));window.addEventListener("keydown",(function(n){n.repeat||k(n.code)})),window.addEventListener("keyup",(function(n){p(n.code)})),window.addEventListener("blur",(function(){document.hasFocus()||g()}));var P=(0,e.PA)((function(){var n=(0,y.x)(m.getModel());return i.createElement("div",null,i.createElement("div",null,"Key pressed:"),n.map((function(n){return i.createElement("div",{key:n},n)})),i.createElement("div",null,"---------------"))})),M=(0,e.PA)((function(){return i.createElement("div",null,i.createElement(P,null),i.createElement(w,null))}))}}]);